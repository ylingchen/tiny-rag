(yangling) root@huaweiyun20220320213:/workspace/yangling6/tiny-rag# python script/tiny_rag.py -t build -c config/qwen2_config.json -p data/raw_data/wikipedia-cn-20230720-filtered.json
[nltk_data] Downloading package punkt to /root/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
2024-09-22 13:14:16.453 | INFO     | __main__:build_db:18 - load raw data success! 
config:  RAGConfig(base_dir='data/wiki_db', llm_model_id='models/Qwen2-7B-Instruct', emb_model_id='models/bge-base-zh-v1.5', ranker_model_id='models/bge-reranker-base', device='cuda', sent_split_model_id='models/nlp_bert_document-segmentation_chinese-base', sent_split_use_model=False, sentence_size=256, model_type='qwen2')
未初始化数据库，请加载数据库！ 
2024-09-22 13:14:20.503 | INFO     | tinyrag.searcher.searcher:__init__:40 - Searcher init build success...
Loading checkpoint shards: 100%|███████████████████████████████████████████████████████████████████████████████████████| 4/4 [00:09<00:00,  2.26s/it]
2024-09-22 13:14:30.104 | INFO     | tinyrag.tiny_rag:build:78 - load sentence splitter model success! 
100%|████████████████████████████████████████████████████████████████████████████████████████████████████| 254547/254547 [00:01<00:00, 147854.34it/s]
2024-09-22 13:14:58.005 | INFO     | tinyrag.tiny_rag:build:93 - split sentence success, all sentence number: 
2024-09-22 13:14:58.005 | INFO     | tinyrag.tiny_rag:build:94 - build database ...... 
bm25 build :   0%|                                                                                                        | 0/130002 [00:00<?, ?it/s]Building prefix dict from the default dictionary ...
Loading model from cache /tmp/jieba.cache
Loading model cost 0.708 seconds.
Prefix dict has been built successfully.
bm25 build : 100%|█████████████████████████████████████████████████████████████████████████████████████████| 130002/130002 [00:47<00:00, 2718.08it/s]
2024-09-22 13:15:49.190 | INFO     | tinyrag.searcher.searcher:build_db:45 - bm25 retriever build success...
emb build : 100%|███████████████████████████████████████████████████████████████████████████████████████████| 130002/130002 [18:30<00:00, 117.10it/s]
2024-09-22 13:34:19.376 | INFO     | tinyrag.searcher.searcher:build_db:49 - emb retriever build success...
2024-09-22 13:34:19.376 | INFO     | tinyrag.tiny_rag:build:96 - build database success, starting save .... 
2024-09-22 13:34:22.651 | INFO     | tinyrag.searcher.searcher:save_db:81 - bm25 retriever save success...
2024-09-22 13:34:23.242 | INFO     | tinyrag.searcher.searcher:save_db:83 - emb retriever save success...
2024-09-22 13:34:23.242 | INFO     | tinyrag.tiny_rag:build:98 - save database success!  